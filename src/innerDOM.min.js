(function(f){function h(a){return a.replace(t,"&amp;").replace(u,"&lt;").replace(v,"&gt;").replace(w,"&nbsp;")}function g(a){return h(a).replace(x,"&quot;")}function e(a){var b="",d;a.namespaceURI?(d=m[a.namespaceURI],b+=d&&d.prefix===""?a.localName:a.nodeName,d&&d.cased===!1&&(b=b.toLowerCase())):b+=a.nodeName.toLowerCase();return b}function n(a){var b="",d,c;a.namespaceURI?(d=m[a.namespaceURI],c=a.nodeName.split(":"),c.length==1?(b+=d&&a.localName!=="xmlns"?d.prefix:"",b+=a.localName):b+=d&&d.cased===
!0?a.nodeName:a.nodeName.toLowerCase()):b+=a.nodeName.toLowerCase();return b}function o(a){var b="",d,c,e;d=0;for(c=a.childNodes.length;d<c;d++)e=a.childNodes[d],b+=l(e);return b}function l(a){var b="",d="";if(a.nodeType===c.ELEMENT_NODE){d+=e(a);b+=i+d;b+=p(a);b+=j;if(y.indexOf(d)>-1)return b;z.indexOf(d)>-1&&(b+=A);b+=o(a);b+=i+B+d+j}else a.nodeType===c.TEXT_NODE||a.nodeType==c.CDATA_SECTION_NODE?b+=C.indexOf(a.parentNode.nodeName.toLowerCase())>-1?a.data:h(a.data):a.nodeType===c.COMMENT_NODE?b+=
i+D+k+k+a.data+k+k+j:a.nodeType===c.PROCESSING_INSTRUCTION_NODE?b+=i+q+a.target+r+a.data+j:a.nodeType===c.DOCUMENT_TYPE_NODE&&(b+=i+q+DOCTYPE+a.name+j);return b}function p(a){var b,d,c="";for(b=0;b<a.attributes.length;b++)d=a.attributes[b],d.specified===!0&&(c+=r+n(d)+E+s+g(d.nodeValue)+s);return c}var i="<",j=">",r=" ",E="=",s='"',A="\n",B="/",D="!",k="-",q="?",t=/\&(?!amp;|gt;|lt;|quot;|nbsp;)/gi,u=/\</gi,v=/\>/gi,w=/\u00A0/gi,x=/\"/gi,y=["area","base","basefont","bgsound","br","col","command",
"embed","frame","hr","img","input","keygen","link","meta","param","source","track","wbr"],C=["style","script","xmp","iframe","noembed","noframes","noscript","plaintext"],z=["pre","textarea","listing"],m={"null":{prefix:"",cased:!1},"http://www.w3.org/1999/xhtml":{prefix:"",cased:!1},"http://www.w3.org/1998/Math/MathML":{prefix:"",cased:!1},"http://www.w3.org/2000/svg":{prefix:"",cased:!1},"http://www.w3.org/1999/xlink":{prefix:"xlink:",cased:!0},"http://www.w3.org/XML/1998/namespace":{prefix:"xml:",
cased:!0},"http://www.w3.org/2000/xmlns/":{prefix:"xmlns:",cased:!0}},c=Node||{};if(c.ELEMENT_NODE!==1)c.ELEMENT_NODE=1,c.ATTRIBUTE_NODE=2,c.TEXT_NODE=3,c.CDATA_SECTION_NODE=4,c.ENTITY_REFERENCE_NODE=5,c.ENTITY_NODE=6,c.PROCESSING_INSTRUCTION_NODE=7,c.COMMENT_NODE=8,c.DOCUMENT_NODE=9,c.DOCUMENT_TYPE_NODE=10,c.DOCUMENT_FRAGMENT_NODE=11,c.NOTATION_NODE=12;f._textEscape=h;f._attrEscape=g;f._elementName=e;f._attributeName=n;f._traceElement=l;f._traceAttrs=p;f.serializeInnerDom=o;f.serializeOuterDom=function(a){return l(a)}})(typeof exports===
"undefined"?typeof innerDOM==="undefined"?innerDOM={}:innerDOM:exports);if(!Array.prototype.indexOf)Array.prototype.indexOf=function(f,h){var g=this.length;if(!g)return-1;var e=h||0;if(e>=g)return-1;for(e<0&&(e+=g);e<g;e++)if(owns(this,e)&&f===this[e])return e;return-1};